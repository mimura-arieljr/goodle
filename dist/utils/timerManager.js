let timerIntervalId = null;
export function startCountdownTimer() {
    const timerEl = document.getElementById("countdown-timer");
    if (!timerEl) {
        console.warn("Timer element not found");
        return;
    }
    if (timerIntervalId !== null) {
        clearInterval(timerIntervalId);
    }
    let timeLeft = (() => {
        const val = sessionStorage.getItem("timePerQuestion");
        const parsed = parseInt(val ?? "", 10);
        return isNaN(parsed) || parsed <= 0 ? 30 : parsed;
    })();
    timerEl.textContent = formatTime(timeLeft);
    console.log(timerEl.textContent);
    timerIntervalId = window.setInterval(() => {
        timeLeft--;
        timerEl.textContent = formatTime(timeLeft);
        if (timeLeft <= 0) {
            clearInterval(timerIntervalId);
            console.log("⏰ Time is up!");
            // Optional: auto-submit or move on here
        }
    }, 1000);
}
function formatTime(seconds) {
    const mins = Math.floor(seconds / 60);
    const secs = seconds % 60;
    return `${String(mins).padStart(2, "0")}:${String(secs).padStart(2, "0")}`;
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoidGltZXJNYW5hZ2VyLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vc3JjL3V0aWxzL3RpbWVyTWFuYWdlci50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxJQUFJLGVBQWUsR0FBa0IsSUFBSSxDQUFDO0FBRTFDLE1BQU0sVUFBVSxtQkFBbUI7SUFDL0IsTUFBTSxPQUFPLEdBQUcsUUFBUSxDQUFDLGNBQWMsQ0FBQyxpQkFBaUIsQ0FBQyxDQUFDO0lBQzNELElBQUksQ0FBQyxPQUFPLEVBQUUsQ0FBQztRQUNYLE9BQU8sQ0FBQyxJQUFJLENBQUMseUJBQXlCLENBQUMsQ0FBQztRQUN4QyxPQUFPO0lBQ1gsQ0FBQztJQUVELElBQUksZUFBZSxLQUFLLElBQUksRUFBRSxDQUFDO1FBQzNCLGFBQWEsQ0FBQyxlQUFlLENBQUMsQ0FBQztJQUNuQyxDQUFDO0lBRUQsSUFBSSxRQUFRLEdBQUcsQ0FBQyxHQUFHLEVBQUU7UUFDakIsTUFBTSxHQUFHLEdBQUcsY0FBYyxDQUFDLE9BQU8sQ0FBQyxpQkFBaUIsQ0FBQyxDQUFDO1FBQ3RELE1BQU0sTUFBTSxHQUFHLFFBQVEsQ0FBQyxHQUFHLElBQUksRUFBRSxFQUFFLEVBQUUsQ0FBQyxDQUFDO1FBQ3ZDLE9BQU8sS0FBSyxDQUFDLE1BQU0sQ0FBQyxJQUFJLE1BQU0sSUFBSSxDQUFDLENBQUMsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUMsTUFBTSxDQUFDO0lBQ3RELENBQUMsQ0FBQyxFQUFFLENBQUM7SUFFTCxPQUFPLENBQUMsV0FBVyxHQUFHLFVBQVUsQ0FBQyxRQUFRLENBQUMsQ0FBQztJQUMzQyxPQUFPLENBQUMsR0FBRyxDQUFDLE9BQU8sQ0FBQyxXQUFXLENBQUMsQ0FBQztJQUVqQyxlQUFlLEdBQUcsTUFBTSxDQUFDLFdBQVcsQ0FBQyxHQUFHLEVBQUU7UUFDdEMsUUFBUSxFQUFFLENBQUM7UUFDWCxPQUFPLENBQUMsV0FBVyxHQUFHLFVBQVUsQ0FBQyxRQUFRLENBQUMsQ0FBQztRQUUzQyxJQUFJLFFBQVEsSUFBSSxDQUFDLEVBQUUsQ0FBQztZQUNoQixhQUFhLENBQUMsZUFBZ0IsQ0FBQyxDQUFDO1lBQ2hDLE9BQU8sQ0FBQyxHQUFHLENBQUMsZUFBZSxDQUFDLENBQUM7WUFDN0Isd0NBQXdDO1FBQzVDLENBQUM7SUFDTCxDQUFDLEVBQUUsSUFBSSxDQUFDLENBQUM7QUFDYixDQUFDO0FBRUQsU0FBUyxVQUFVLENBQUMsT0FBZTtJQUMvQixNQUFNLElBQUksR0FBRyxJQUFJLENBQUMsS0FBSyxDQUFDLE9BQU8sR0FBRyxFQUFFLENBQUMsQ0FBQztJQUN0QyxNQUFNLElBQUksR0FBRyxPQUFPLEdBQUcsRUFBRSxDQUFDO0lBQzFCLE9BQU8sR0FBRyxNQUFNLENBQUMsSUFBSSxDQUFDLENBQUMsUUFBUSxDQUFDLENBQUMsRUFBRSxHQUFHLENBQUMsSUFBSSxNQUFNLENBQUMsSUFBSSxDQUFDLENBQUMsUUFBUSxDQUFDLENBQUMsRUFBRSxHQUFHLENBQUMsRUFBRSxDQUFDO0FBQy9FLENBQUMiLCJzb3VyY2VzQ29udGVudCI6WyJsZXQgdGltZXJJbnRlcnZhbElkOiBudW1iZXIgfCBudWxsID0gbnVsbDtcblxuZXhwb3J0IGZ1bmN0aW9uIHN0YXJ0Q291bnRkb3duVGltZXIoKSB7XG4gICAgY29uc3QgdGltZXJFbCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiY291bnRkb3duLXRpbWVyXCIpO1xuICAgIGlmICghdGltZXJFbCkge1xuICAgICAgICBjb25zb2xlLndhcm4oXCJUaW1lciBlbGVtZW50IG5vdCBmb3VuZFwiKTtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGlmICh0aW1lckludGVydmFsSWQgIT09IG51bGwpIHtcbiAgICAgICAgY2xlYXJJbnRlcnZhbCh0aW1lckludGVydmFsSWQpO1xuICAgIH1cblxuICAgIGxldCB0aW1lTGVmdCA9ICgoKSA9PiB7XG4gICAgICAgIGNvbnN0IHZhbCA9IHNlc3Npb25TdG9yYWdlLmdldEl0ZW0oXCJ0aW1lUGVyUXVlc3Rpb25cIik7XG4gICAgICAgIGNvbnN0IHBhcnNlZCA9IHBhcnNlSW50KHZhbCA/PyBcIlwiLCAxMCk7XG4gICAgICAgIHJldHVybiBpc05hTihwYXJzZWQpIHx8IHBhcnNlZCA8PSAwID8gMzAgOiBwYXJzZWQ7XG4gICAgfSkoKTtcblxuICAgIHRpbWVyRWwudGV4dENvbnRlbnQgPSBmb3JtYXRUaW1lKHRpbWVMZWZ0KTtcbiAgICBjb25zb2xlLmxvZyh0aW1lckVsLnRleHRDb250ZW50KTtcblxuICAgIHRpbWVySW50ZXJ2YWxJZCA9IHdpbmRvdy5zZXRJbnRlcnZhbCgoKSA9PiB7XG4gICAgICAgIHRpbWVMZWZ0LS07XG4gICAgICAgIHRpbWVyRWwudGV4dENvbnRlbnQgPSBmb3JtYXRUaW1lKHRpbWVMZWZ0KTtcblxuICAgICAgICBpZiAodGltZUxlZnQgPD0gMCkge1xuICAgICAgICAgICAgY2xlYXJJbnRlcnZhbCh0aW1lckludGVydmFsSWQhKTtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKFwi4o+wIFRpbWUgaXMgdXAhXCIpO1xuICAgICAgICAgICAgLy8gT3B0aW9uYWw6IGF1dG8tc3VibWl0IG9yIG1vdmUgb24gaGVyZVxuICAgICAgICB9XG4gICAgfSwgMTAwMCk7XG59XG5cbmZ1bmN0aW9uIGZvcm1hdFRpbWUoc2Vjb25kczogbnVtYmVyKTogc3RyaW5nIHtcbiAgICBjb25zdCBtaW5zID0gTWF0aC5mbG9vcihzZWNvbmRzIC8gNjApO1xuICAgIGNvbnN0IHNlY3MgPSBzZWNvbmRzICUgNjA7XG4gICAgcmV0dXJuIGAke1N0cmluZyhtaW5zKS5wYWRTdGFydCgyLCBcIjBcIil9OiR7U3RyaW5nKHNlY3MpLnBhZFN0YXJ0KDIsIFwiMFwiKX1gO1xufSJdfQ==