const SESSION_DURATION = 1000 * 60 * 30;
const encodeSession = (timestamp) => btoa(timestamp.toString()); // Base64 encode
const decodeSession = (encoded) => parseInt(atob(encoded));
export const login = () => {
    const now = Date.now();
    sessionStorage.removeItem("userIsIn");
    sessionStorage.setItem("userIsIn", encodeSession(now));
};
export const isSessionValid = () => {
    const encoded = sessionStorage.getItem("userIsIn");
    if (!encoded)
        return false;
    const now = Date.now();
    console.log(decodeSession(encoded));
    return now - decodeSession(encoded) < SESSION_DURATION;
};
export const validateSession = () => {
    if (!isSessionValid()) {
        logout();
    }
};
export const logout = () => {
    sessionStorage.removeItem("userIsIn");
    window.location.reload();
};
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoic2Vzc2lvbk1hbmFnZXIuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi9zcmMvdXRpbHMvc2Vzc2lvbk1hbmFnZXIudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsTUFBTSxnQkFBZ0IsR0FBRyxJQUFJLEdBQUcsRUFBRSxHQUFHLEVBQUUsQ0FBQztBQUV4QyxNQUFNLGFBQWEsR0FBRyxDQUFDLFNBQWlCLEVBQUUsRUFBRSxDQUFDLElBQUksQ0FBQyxTQUFTLENBQUMsUUFBUSxFQUFFLENBQUMsQ0FBQyxDQUFDLGdCQUFnQjtBQUN6RixNQUFNLGFBQWEsR0FBRyxDQUFDLE9BQWUsRUFBRSxFQUFFLENBQUMsUUFBUSxDQUFDLElBQUksQ0FBQyxPQUFPLENBQUMsQ0FBQyxDQUFDO0FBRW5FLE1BQU0sQ0FBQyxNQUFNLEtBQUssR0FBRyxHQUFHLEVBQUU7SUFDdEIsTUFBTSxHQUFHLEdBQUcsSUFBSSxDQUFDLEdBQUcsRUFBRSxDQUFDO0lBQ3ZCLGNBQWMsQ0FBQyxVQUFVLENBQUMsVUFBVSxDQUFDLENBQUM7SUFDdEMsY0FBYyxDQUFDLE9BQU8sQ0FBQyxVQUFVLEVBQUUsYUFBYSxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUM7QUFDM0QsQ0FBQyxDQUFDO0FBRUYsTUFBTSxDQUFDLE1BQU0sY0FBYyxHQUFHLEdBQUcsRUFBRTtJQUMvQixNQUFNLE9BQU8sR0FBRyxjQUFjLENBQUMsT0FBTyxDQUFDLFVBQVUsQ0FBQyxDQUFDO0lBQ25ELElBQUksQ0FBQyxPQUFPO1FBQUUsT0FBTyxLQUFLLENBQUM7SUFFM0IsTUFBTSxHQUFHLEdBQUcsSUFBSSxDQUFDLEdBQUcsRUFBRSxDQUFDO0lBQ3ZCLE9BQU8sQ0FBQyxHQUFHLENBQUMsYUFBYSxDQUFDLE9BQU8sQ0FBQyxDQUFDLENBQUM7SUFDcEMsT0FBTyxHQUFHLEdBQUcsYUFBYSxDQUFDLE9BQU8sQ0FBQyxHQUFHLGdCQUFnQixDQUFDO0FBQzNELENBQUMsQ0FBQztBQUVGLE1BQU0sQ0FBQyxNQUFNLGVBQWUsR0FBRyxHQUFHLEVBQUU7SUFDaEMsSUFBSSxDQUFDLGNBQWMsRUFBRSxFQUFFLENBQUM7UUFDcEIsTUFBTSxFQUFFLENBQUM7SUFDYixDQUFDO0FBQ0wsQ0FBQyxDQUFBO0FBRUQsTUFBTSxDQUFDLE1BQU0sTUFBTSxHQUFHLEdBQUcsRUFBRTtJQUN2QixjQUFjLENBQUMsVUFBVSxDQUFDLFVBQVUsQ0FBQyxDQUFDO0lBQ3RDLE1BQU0sQ0FBQyxRQUFRLENBQUMsTUFBTSxFQUFFLENBQUM7QUFDN0IsQ0FBQyxDQUFDIiwic291cmNlc0NvbnRlbnQiOlsiY29uc3QgU0VTU0lPTl9EVVJBVElPTiA9IDEwMDAgKiA2MCAqIDMwO1xuXG5jb25zdCBlbmNvZGVTZXNzaW9uID0gKHRpbWVzdGFtcDogbnVtYmVyKSA9PiBidG9hKHRpbWVzdGFtcC50b1N0cmluZygpKTsgLy8gQmFzZTY0IGVuY29kZVxuY29uc3QgZGVjb2RlU2Vzc2lvbiA9IChlbmNvZGVkOiBzdHJpbmcpID0+IHBhcnNlSW50KGF0b2IoZW5jb2RlZCkpO1xuXG5leHBvcnQgY29uc3QgbG9naW4gPSAoKSA9PiB7XG4gICAgY29uc3Qgbm93ID0gRGF0ZS5ub3coKTtcbiAgICBzZXNzaW9uU3RvcmFnZS5yZW1vdmVJdGVtKFwidXNlcklzSW5cIik7XG4gICAgc2Vzc2lvblN0b3JhZ2Uuc2V0SXRlbShcInVzZXJJc0luXCIsIGVuY29kZVNlc3Npb24obm93KSk7XG59O1xuXG5leHBvcnQgY29uc3QgaXNTZXNzaW9uVmFsaWQgPSAoKSA9PiB7XG4gICAgY29uc3QgZW5jb2RlZCA9IHNlc3Npb25TdG9yYWdlLmdldEl0ZW0oXCJ1c2VySXNJblwiKTtcbiAgICBpZiAoIWVuY29kZWQpIHJldHVybiBmYWxzZTtcblxuICAgIGNvbnN0IG5vdyA9IERhdGUubm93KCk7XG4gICAgY29uc29sZS5sb2coZGVjb2RlU2Vzc2lvbihlbmNvZGVkKSk7XG4gICAgcmV0dXJuIG5vdyAtIGRlY29kZVNlc3Npb24oZW5jb2RlZCkgPCBTRVNTSU9OX0RVUkFUSU9OO1xufTtcblxuZXhwb3J0IGNvbnN0IHZhbGlkYXRlU2Vzc2lvbiA9ICgpID0+IHtcbiAgICBpZiAoIWlzU2Vzc2lvblZhbGlkKCkpIHtcbiAgICAgICAgbG9nb3V0KCk7XG4gICAgfVxufVxuXG5leHBvcnQgY29uc3QgbG9nb3V0ID0gKCkgPT4ge1xuICAgIHNlc3Npb25TdG9yYWdlLnJlbW92ZUl0ZW0oXCJ1c2VySXNJblwiKTtcbiAgICB3aW5kb3cubG9jYXRpb24ucmVsb2FkKCk7XG59OyJdfQ==