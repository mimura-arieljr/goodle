import { encryptText } from "../utils/stringManager.js";
import { secrets } from "../libs/secrets.js";
export function loginView(loginPage, mainPage) {
    const loginForm = document.getElementById("login-form");
    const passwordInput = document.getElementById("password")?.value;
    const invalidPassword = document.getElementById("invalid-password");
    loginForm.addEventListener("submit", async (e) => {
        e.preventDefault();
        const encryptedInput = await encryptText(passwordInput);
        if (secrets[0] !== encryptedInput) {
            invalidPassword.classList.remove("hidden");
            return;
        }
        loginPage.classList.add("hidden");
        mainPage.classList.remove("hidden");
    });
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibG9naW5WaWV3LmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vc3JjL3ZpZXdzL2xvZ2luVmlldy50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxPQUFPLEVBQUUsV0FBVyxFQUFFLE1BQU0sMkJBQTJCLENBQUM7QUFDeEQsT0FBTyxFQUFFLE9BQU8sRUFBRSxNQUFNLG9CQUFvQixDQUFDO0FBRTdDLE1BQU0sVUFBVSxTQUFTLENBQUMsU0FBc0IsRUFBRSxRQUFxQjtJQUNuRSxNQUFNLFNBQVMsR0FBRyxRQUFRLENBQUMsY0FBYyxDQUFDLFlBQVksQ0FBb0IsQ0FBQztJQUMzRSxNQUFNLGFBQWEsR0FBSSxRQUFRLENBQUMsY0FBYyxDQUFDLFVBQVUsQ0FBc0IsRUFBRSxLQUFLLENBQUM7SUFDdkYsTUFBTSxlQUFlLEdBQUcsUUFBUSxDQUFDLGNBQWMsQ0FBQyxrQkFBa0IsQ0FBZ0IsQ0FBQztJQUVuRixTQUFTLENBQUMsZ0JBQWdCLENBQUMsUUFBUSxFQUFFLEtBQUssRUFBRSxDQUFDLEVBQUUsRUFBRTtRQUM3QyxDQUFDLENBQUMsY0FBYyxFQUFFLENBQUM7UUFDbkIsTUFBTSxjQUFjLEdBQUcsTUFBTSxXQUFXLENBQUMsYUFBYSxDQUFDLENBQUE7UUFFdkQsSUFBSSxPQUFPLENBQUMsQ0FBQyxDQUFDLEtBQUssY0FBYyxFQUFFLENBQUM7WUFDaEMsZUFBZSxDQUFDLFNBQVMsQ0FBQyxNQUFNLENBQUMsUUFBUSxDQUFDLENBQUM7WUFDM0MsT0FBTTtRQUNWLENBQUM7UUFFRCxTQUFTLENBQUMsU0FBUyxDQUFDLEdBQUcsQ0FBQyxRQUFRLENBQUMsQ0FBQztRQUNsQyxRQUFRLENBQUMsU0FBUyxDQUFDLE1BQU0sQ0FBQyxRQUFRLENBQUMsQ0FBQztJQUN4QyxDQUFDLENBQUMsQ0FBQztBQUNQLENBQUMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBlbmNyeXB0VGV4dCB9IGZyb20gXCIuLi91dGlscy9zdHJpbmdNYW5hZ2VyLmpzXCI7XG5pbXBvcnQgeyBzZWNyZXRzIH0gZnJvbSBcIi4uL2xpYnMvc2VjcmV0cy5qc1wiO1xuXG5leHBvcnQgZnVuY3Rpb24gbG9naW5WaWV3KGxvZ2luUGFnZTogSFRNTEVsZW1lbnQsIG1haW5QYWdlOiBIVE1MRWxlbWVudCkge1xuICAgIGNvbnN0IGxvZ2luRm9ybSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwibG9naW4tZm9ybVwiKSBhcyBIVE1MRm9ybUVsZW1lbnQ7XG4gICAgY29uc3QgcGFzc3dvcmRJbnB1dCA9IChkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInBhc3N3b3JkXCIpIGFzIEhUTUxJbnB1dEVsZW1lbnQpPy52YWx1ZTtcbiAgICBjb25zdCBpbnZhbGlkUGFzc3dvcmQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImludmFsaWQtcGFzc3dvcmRcIikgYXMgSFRNTEVsZW1lbnQ7XG5cbiAgICBsb2dpbkZvcm0uYWRkRXZlbnRMaXN0ZW5lcihcInN1Ym1pdFwiLCBhc3luYyAoZSkgPT4ge1xuICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgIGNvbnN0IGVuY3J5cHRlZElucHV0ID0gYXdhaXQgZW5jcnlwdFRleHQocGFzc3dvcmRJbnB1dClcbiAgICAgICAgXG4gICAgICAgIGlmIChzZWNyZXRzWzBdICE9PSBlbmNyeXB0ZWRJbnB1dCkge1xuICAgICAgICAgICAgaW52YWxpZFBhc3N3b3JkLmNsYXNzTGlzdC5yZW1vdmUoXCJoaWRkZW5cIik7XG4gICAgICAgICAgICByZXR1cm5cbiAgICAgICAgfVxuXG4gICAgICAgIGxvZ2luUGFnZS5jbGFzc0xpc3QuYWRkKFwiaGlkZGVuXCIpO1xuICAgICAgICBtYWluUGFnZS5jbGFzc0xpc3QucmVtb3ZlKFwiaGlkZGVuXCIpO1xuICAgIH0pO1xufSJdfQ==