import { loadSubjects, bindSubjectCardEvents } from "../utils/subjectsManager.js";
import { imitateLoadTime } from "../utils/imitateLoadingTime.js";
import { questionsView } from "./questionsView.js";
export async function subjectsView(mainPage, subjectsPage, questionsPage, spinner) {
    const backBtn = document.getElementById("subjects-back-btn");
    backBtn.addEventListener("click", () => {
        mainPage.classList.remove("hidden");
        subjectsPage.classList.add("hidden");
    });
    // dynamically load subjects in the UI
    await loadSubjects();
    // callback function to bind the card event listeners to the subject
    // and save the chosen subject to a session storage
    bindSubjectCardEvents(async (subjectName) => {
        subjectsPage.classList.add("hidden");
        showSpinner(spinner, questionsPage);
        questionsView(subjectsPage, questionsPage, subjectName);
    });
}
function showSpinner(spinner, questionsPage) {
    spinner.classList.remove("hidden");
    setTimeout(() => {
        spinner.classList.add("hidden");
        questionsPage.classList.remove("hidden");
    }, imitateLoadTime());
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoic3ViamVjdHNWaWV3LmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vc3JjL3ZpZXdzL3N1YmplY3RzVmlldy50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxPQUFPLEVBQUUsWUFBWSxFQUFFLHFCQUFxQixFQUFFLE1BQU0sNkJBQTZCLENBQUM7QUFDbEYsT0FBTyxFQUFFLGVBQWUsRUFBRSxNQUFNLGdDQUFnQyxDQUFDO0FBQ2pFLE9BQU8sRUFBRSxhQUFhLEVBQUUsTUFBTSxvQkFBb0IsQ0FBQztBQUVuRCxNQUFNLENBQUMsS0FBSyxVQUFVLFlBQVksQ0FBQyxRQUFxQixFQUFFLFlBQXlCLEVBQUUsYUFBMEIsRUFBRSxPQUFvQjtJQUNqSSxNQUFNLE9BQU8sR0FBRyxRQUFRLENBQUMsY0FBYyxDQUFDLG1CQUFtQixDQUFzQixDQUFDO0lBRWxGLE9BQU8sQ0FBQyxnQkFBZ0IsQ0FBQyxPQUFPLEVBQUUsR0FBRyxFQUFFO1FBQ25DLFFBQVEsQ0FBQyxTQUFTLENBQUMsTUFBTSxDQUFDLFFBQVEsQ0FBQyxDQUFDO1FBQ3BDLFlBQVksQ0FBQyxTQUFTLENBQUMsR0FBRyxDQUFDLFFBQVEsQ0FBQyxDQUFDO0lBQ3pDLENBQUMsQ0FBQyxDQUFDO0lBRUgsc0NBQXNDO0lBQ3RDLE1BQU0sWUFBWSxFQUFFLENBQUM7SUFFckIsb0VBQW9FO0lBQ3BFLG1EQUFtRDtJQUNuRCxxQkFBcUIsQ0FBQyxLQUFLLEVBQUUsV0FBbUIsRUFBRSxFQUFFO1FBQ2hELFlBQVksQ0FBQyxTQUFTLENBQUMsR0FBRyxDQUFDLFFBQVEsQ0FBQyxDQUFDO1FBQ3JDLFdBQVcsQ0FBQyxPQUFPLEVBQUUsYUFBYSxDQUFDLENBQUM7UUFDcEMsYUFBYSxDQUFDLFlBQVksRUFBRSxhQUFhLEVBQUUsV0FBVyxDQUFDLENBQUM7SUFDNUQsQ0FBQyxDQUFDLENBQUM7QUFDUCxDQUFDO0FBRUQsU0FBUyxXQUFXLENBQUMsT0FBb0IsRUFBRSxhQUEwQjtJQUNqRSxPQUFPLENBQUMsU0FBUyxDQUFDLE1BQU0sQ0FBQyxRQUFRLENBQUMsQ0FBQztJQUNuQyxVQUFVLENBQUMsR0FBRyxFQUFFO1FBQ1osT0FBTyxDQUFDLFNBQVMsQ0FBQyxHQUFHLENBQUMsUUFBUSxDQUFDLENBQUM7UUFDaEMsYUFBYSxDQUFDLFNBQVMsQ0FBQyxNQUFNLENBQUMsUUFBUSxDQUFDLENBQUM7SUFDN0MsQ0FBQyxFQUFFLGVBQWUsRUFBRSxDQUFDLENBQUM7QUFDMUIsQ0FBQyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGxvYWRTdWJqZWN0cywgYmluZFN1YmplY3RDYXJkRXZlbnRzIH0gZnJvbSBcIi4uL3V0aWxzL3N1YmplY3RzTWFuYWdlci5qc1wiO1xuaW1wb3J0IHsgaW1pdGF0ZUxvYWRUaW1lIH0gZnJvbSBcIi4uL3V0aWxzL2ltaXRhdGVMb2FkaW5nVGltZS5qc1wiO1xuaW1wb3J0IHsgcXVlc3Rpb25zVmlldyB9IGZyb20gXCIuL3F1ZXN0aW9uc1ZpZXcuanNcIjtcblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIHN1YmplY3RzVmlldyhtYWluUGFnZTogSFRNTEVsZW1lbnQsIHN1YmplY3RzUGFnZTogSFRNTEVsZW1lbnQsIHF1ZXN0aW9uc1BhZ2U6IEhUTUxFbGVtZW50LCBzcGlubmVyOiBIVE1MRWxlbWVudCkge1xuICAgIGNvbnN0IGJhY2tCdG4gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInN1YmplY3RzLWJhY2stYnRuXCIpIGFzIEhUTUxCdXR0b25FbGVtZW50O1xuXG4gICAgYmFja0J0bi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xuICAgICAgICBtYWluUGFnZS5jbGFzc0xpc3QucmVtb3ZlKFwiaGlkZGVuXCIpO1xuICAgICAgICBzdWJqZWN0c1BhZ2UuY2xhc3NMaXN0LmFkZChcImhpZGRlblwiKTtcbiAgICB9KTtcblxuICAgIC8vIGR5bmFtaWNhbGx5IGxvYWQgc3ViamVjdHMgaW4gdGhlIFVJXG4gICAgYXdhaXQgbG9hZFN1YmplY3RzKCk7XG5cbiAgICAvLyBjYWxsYmFjayBmdW5jdGlvbiB0byBiaW5kIHRoZSBjYXJkIGV2ZW50IGxpc3RlbmVycyB0byB0aGUgc3ViamVjdFxuICAgIC8vIGFuZCBzYXZlIHRoZSBjaG9zZW4gc3ViamVjdCB0byBhIHNlc3Npb24gc3RvcmFnZVxuICAgIGJpbmRTdWJqZWN0Q2FyZEV2ZW50cyhhc3luYyAoc3ViamVjdE5hbWU6IHN0cmluZykgPT4ge1xuICAgICAgICBzdWJqZWN0c1BhZ2UuY2xhc3NMaXN0LmFkZChcImhpZGRlblwiKTtcbiAgICAgICAgc2hvd1NwaW5uZXIoc3Bpbm5lciwgcXVlc3Rpb25zUGFnZSk7XG4gICAgICAgIHF1ZXN0aW9uc1ZpZXcoc3ViamVjdHNQYWdlLCBxdWVzdGlvbnNQYWdlLCBzdWJqZWN0TmFtZSk7XG4gICAgfSk7XG59XG5cbmZ1bmN0aW9uIHNob3dTcGlubmVyKHNwaW5uZXI6IEhUTUxFbGVtZW50LCBxdWVzdGlvbnNQYWdlOiBIVE1MRWxlbWVudCkge1xuICAgIHNwaW5uZXIuY2xhc3NMaXN0LnJlbW92ZShcImhpZGRlblwiKTtcbiAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgc3Bpbm5lci5jbGFzc0xpc3QuYWRkKFwiaGlkZGVuXCIpO1xuICAgICAgICBxdWVzdGlvbnNQYWdlLmNsYXNzTGlzdC5yZW1vdmUoXCJoaWRkZW5cIik7XG4gICAgfSwgaW1pdGF0ZUxvYWRUaW1lKCkpO1xufVxuXG5cbiJdfQ==